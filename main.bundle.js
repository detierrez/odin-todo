(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},i=[],s=0;s<t.length;s++){var c=t[s],d=r.base?c[0]+r.base:c[0],l=a[d]||0,u="".concat(d," ").concat(l);a[d]=l+1;var m=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)e[m].references++,e[m].updater(h);else{var f=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var s=n(a[i]);e[s].references--}for(var c=r(t,o),d=0;d<a.length;d++){var l=n(a[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},190:(t,e,n)=>{t.exports=n.p+"9fa2f25b570a06771449.svg"},288:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,"/*! modern-normalize v3.0.1 | MIT License | https://github.com/sindresorhus/modern-normalize */\n\n/*\nDocument\n========\n*/\n\n/**\nUse a better box model (opinionated).\n*/\n\n*,\n::before,\n::after {\n\tbox-sizing: border-box;\n}\n\nhtml {\n\t/* Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3) */\n\tfont-family:\n\t\tsystem-ui,\n\t\t'Segoe UI',\n\t\tRoboto,\n\t\tHelvetica,\n\t\tArial,\n\t\tsans-serif,\n\t\t'Apple Color Emoji',\n\t\t'Segoe UI Emoji';\n\tline-height: 1.15; /* 1. Correct the line height in all browsers. */\n\t-webkit-text-size-adjust: 100%; /* 2. Prevent adjustments of font size after orientation changes in iOS. */\n\ttab-size: 4; /* 3. Use a more readable tab size (opinionated). */\n}\n\n/*\nSections\n========\n*/\n\nbody {\n\tmargin: 0; /* Remove the margin in all browsers. */\n}\n\n/*\nText-level semantics\n====================\n*/\n\n/**\nAdd the correct font weight in Chrome and Safari.\n*/\n\nb,\nstrong {\n\tfont-weight: bolder;\n}\n\n/**\n1. Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n2. Correct the odd 'em' font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n\tfont-family:\n\t\tui-monospace,\n\t\tSFMono-Regular,\n\t\tConsolas,\n\t\t'Liberation Mono',\n\t\tMenlo,\n\t\tmonospace; /* 1 */\n\tfont-size: 1em; /* 2 */\n}\n\n/**\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n\tfont-size: 80%;\n}\n\n/**\nPrevent 'sub' and 'sup' elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n\tfont-size: 75%;\n\tline-height: 0;\n\tposition: relative;\n\tvertical-align: baseline;\n}\n\nsub {\n\tbottom: -0.25em;\n}\n\nsup {\n\ttop: -0.5em;\n}\n\n/*\nTabular data\n============\n*/\n\n/**\nCorrect table border color inheritance in Chrome and Safari. (https://issues.chromium.org/issues/40615503, https://bugs.webkit.org/show_bug.cgi?id=195016)\n*/\n\ntable {\n\tborder-color: currentcolor;\n}\n\n/*\nForms\n=====\n*/\n\n/**\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n\tfont-family: inherit; /* 1 */\n\tfont-size: 100%; /* 1 */\n\tline-height: 1.15; /* 1 */\n\tmargin: 0; /* 2 */\n}\n\n/**\nCorrect the inability to style clickable types in iOS and Safari.\n*/\n\nbutton,\n[type='button'],\n[type='reset'],\n[type='submit'] {\n\t-webkit-appearance: button;\n}\n\n/**\nRemove the padding so developers are not caught out when they zero out 'fieldset' elements in all browsers.\n*/\n\nlegend {\n\tpadding: 0;\n}\n\n/**\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n\tvertical-align: baseline;\n}\n\n/**\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n\theight: auto;\n}\n\n/**\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n\t-webkit-appearance: textfield; /* 1 */\n\toutline-offset: -2px; /* 2 */\n}\n\n/**\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n\t-webkit-appearance: none;\n}\n\n/**\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to 'inherit' in Safari.\n*/\n\n::-webkit-file-upload-button {\n\t-webkit-appearance: button; /* 1 */\n\tfont: inherit; /* 2 */\n}\n\n/*\nInteractive\n===========\n*/\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n\tdisplay: list-item;\n}\n",""]);const s=i},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},357:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,".date-picker {\n  cursor: pointer;\n  position: relative;\n  input {\n    position: absolute;\n    visibility: hidden;\n  }\n}\n",""]);const s=i},409:(t,e,n)=>{n.d(e,{A:()=>m});var r=n(601),o=n.n(r),a=n(314),i=n.n(a),s=n(417),c=n.n(s),d=new URL(n(190),n.b),l=i()(o()),u=c()(d);l.push([t.id,`.field-element {\n  field-sizing: content;\n  border: none;\n  border-radius: 0.25em;\n  cursor: pointer;\n\n  padding: 0.1em 0.2em;\n\n  &:focus {\n    cursor: text;\n    border: none;\n    outline: 1px solid #0006;\n    background-color: #0004;\n  }\n\n  background-color: #0000;\n  &:hover {\n    background-color: #0004;\n  }\n}\n\n.field-element.title {\n  font-weight: 600;\n}\n\n.field-element.description {\n  width: 100%;\n  resize: none;\n}\n\n.field-element[readonly] {\n  cursor: text;\n  outline: none;\n  background-color: transparent;\n}\n\nselect.field-element,\n.field-element::picker(select) {\n  appearance: base-select;\n}\n\nselect.field-element::picker-icon {\n  content: url(${u});\n  filter: brightness(0.3);\n  height: 24px;\n}\n\nselect.field-element {\n  display: flex;\n  &::picker-icon {\n    color: #0009;\n    transition: 150ms transform;\n  }\n\n  &:open::picker-icon {\n    transform: rotate(90deg);\n  }\n\n  > option {\n    border-radius: 0.25em;\n    margin: 0.4em;\n    border: none;\n    outline: none;\n  }\n\n  > option::checkmark {\n    margin-left: auto;\n    order: 1;\n  }\n}\n\n.field-element::picker(select) {\n  border-radius: inherit;\n  border: none;\n  outline: none;\n}\n`,""]);const m=l},417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},516:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,".app-body {\n  min-height: 100vh;\n  display: grid;\n  grid-template-columns: min-content 1fr;\n}\n",""]);const s=i},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},572:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,'.collection-view {\n  max-width: 350px;\n  padding: 1em;\n\n  > .title {\n    font-size: 1.5rem;\n  }\n\n  .add-button {\n    margin-right: 0.5em;\n    margin-bottom: 3em;\n    background-color: rgb(73, 119, 73);\n    border: none;\n    img {\n      filter: none;\n    }\n  }\n\n  .delete-button {\n    background-color: transparent;\n\n    &:hover {\n      background-color: #0006;\n    }\n  }\n}\n\n.collection-view {\n  display: grid;\n  grid-template-areas:\n    "title delete"\n    "list  list  ";\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: max-content 1fr;\n  gap: 1em;\n\n  .title {\n    align-self: center;\n    grid-area: title;\n  }\n  .delete-button {\n    align-self: center;\n\n    justify-self: end;\n    grid-area: delete;\n  }\n\n  .task-list {\n    grid-area: list;\n  }\n\n  .add-button {\n    justify-self: end;\n    align-self: end;\n    grid-area: -2 / -2 / span 1 / span 1;\n    z-index: 1;\n  }\n}\n',""]);const s=i},601:t=>{t.exports=function(t){return t[1]}},608:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,"* {\n  transition: background-color 150ms ease-in-out, opacity 150ms ease-in-out;\n}\n\n.hidden {\n  visibility: hidden;\n}\n\n/* .main {\n  border: 1px solid red;\n} */\n\nbody {\n  background-color: rgb(160, 177, 123);\n}\n",""]);const s=i},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},790:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,"* {\n  margin: 0;\n}\n\nbody {\n  min-height: 100vh;\n  line-height: 1.5;\n}\n\nh1,\nh2,\nh3,\nh4,\nbutton,\ninput,\nlabel {\n  line-height: 1.1;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-inline-size: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\nbutton {\n  border: 1px solid;\n  cursor: pointer;\n}\n",""]);const s=i},814:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,".icon-button {\n  padding: 0;\n  border: none;\n  user-select: none;\n\n  border-radius: 50%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  img {\n    filter: invert(1);\n  }\n}\n\n.icon-button.two-sided.side-a :nth-child(2) {\n  display: none;\n}\n\n.icon-button.two-sided.side-b :nth-child(1) {\n  display: none;\n}\n\n/* .icon-button-label {\n  display: flex;\n  align-items: center;\n  padding-right: 0.5em;\n  font-size: 0.8rem;\n  cursor: pointer;\n  opacity: 0;\n  color: #888;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  .icon-button {\n    border: none;\n    outline: 1px solid transparent;\n    padding: 0;\n\n    width: 24px;\n\n    transition: outline 300ms;\n    &:hover {\n      outline: 1px solid #888;\n    }\n\n    img {\n      filter: brightness(0);\n    }\n  }\n} */\n",""]);const s=i},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},870:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,".task-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5em;\n}\n",""]);const s=i},912:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,'.task-card {\n  font-size: 100%;\n  background-color: rgb(223, 223, 223);\n  border-radius: 0.5em;\n  padding: 0.5em;\n  border: none;\n  user-select: none;\n\n  &:hover {\n    background-color: rgb(201, 201, 201);\n  }\n\n  &.completed {\n    opacity: 0.6;\n  }\n}\n\n.task-card {\n  display: grid;\n  gap: 0em 0.1em;\n  justify-content: space-between;\n  justify-items: start;\n  align-items: center;\n  grid-template-columns: max-content min-content max-content 1fr max-content;\n  grid-template-areas:\n    "check title date expand delete"\n    "..... prjc  prjc prjc   ......"\n    "..... desc  desc desc   ......";\n\n  grid-template-rows: min-content minmax(0, 0fr) minmax(0, 0fr);\n  transition: grid-template-rows 0.5s ease;\n  overflow: hidden;\n\n  &:not(.expanded) {\n    > .project-picker,\n    > .description {\n      pointer-events: none;\n      opacity: 0;\n    }\n  }\n\n  &.expanded {\n    grid-template-rows: min-content minmax(0, 1fr) minmax(0, 1fr);\n  }\n\n  > .check-button {\n    grid-area: check;\n  }\n  > .title {\n    grid-area: title;\n    align-self: baseline;\n  }\n\n  > .date-picker {\n    align-self: baseline;\n    grid-area: date;\n  }\n\n  > .expand-button {\n    justify-self: start;\n    grid-area: expand;\n  }\n\n  > .delete-button {\n    grid-area: delete;\n  }\n\n  > .description {\n    align-self: start;\n    opacity: 1;\n    min-width: 0px;\n    grid-area: desc;\n  }\n\n  > .project-picker {\n    opacity: 1;\n    grid-area: prjc;\n  }\n}\n\n.task-card .title {\n  margin-left: 0.1em;\n}\n\n.task-card .date-picker {\n  font-size: 90%;\n  line-height: 0.9rem;\n  color: #000b;\n}\n\n.task-card .icon-button {\n  border: none;\n  background-color: transparent;\n  opacity: 0;\n\n  &:hover {\n    background-color: #0006;\n  }\n}\n\n.task-card:hover .icon-button {\n  opacity: 1;\n}\n\n.task-card select {\n  min-width: 7em;\n}\n\n.task-card .expand-button > img {\n  transition: 150ms transform;\n}\n.task-card.expanded .expand-button > img {\n  transform: rotate(90deg);\n}\n',""]);const s=i},933:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,".sidebar {\n  max-width: 250px;\n  background: #f8f9fa;\n  padding: 1rem;\n  border-right: 1px solid #ddd;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.sidebar h2 {\n  margin-top: 0;\n  font-size: 1.1rem;\n  color: #333;\n}\n\n.sidebar .collection-button {\n  display: block;\n  width: 100%;\n  margin: 0.25rem 0;\n  padding: 0.5rem;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  cursor: pointer;\n  text-align: left;\n}\n\n.sidebar .collection-button:hover {\n  background: #e9ecef;\n}\n\n.sidebar .title-container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n",""]);const s=i}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var r=n(72),o=n.n(r),a=n(825),i=n.n(a),s=n(659),c=n.n(s),d=n(56),l=n.n(d),u=n(540),m=n.n(u),h=n(113),f=n.n(h),p=n(288),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=c().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=m(),o()(p.A,g),p.A&&p.A.locals&&p.A.locals;var b=n(790),w={};w.styleTagTransform=f(),w.setAttributes=l(),w.insert=c().bind(null,"head"),w.domAPI=i(),w.insertStyleElement=m(),o()(b.A,w),b.A&&b.A.locals&&b.A.locals;var y=n(608),v={};v.styleTagTransform=f(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=m(),o()(y.A,v),y.A&&y.A.locals&&y.A.locals;const k=function(t){t.instancesById={},t.create=function(t){const e=new this(t);return this.instancesById[e.id]=e,e},t.get=function(t){return this.instancesById[t]},t.getAll=function(){return Object.values(this.instancesById)},t.remove=function(t){delete this.instancesById[t]}};var x,C=new Uint8Array(16);function T(){if(!x&&!(x="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(C)}const P=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var A=[],M=0;M<256;++M)A.push((M+256).toString(16).substr(1));const S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(A[t[e+0]]+A[t[e+1]]+A[t[e+2]]+A[t[e+3]]+"-"+A[t[e+4]]+A[t[e+5]]+"-"+A[t[e+6]]+A[t[e+7]]+"-"+A[t[e+8]]+A[t[e+9]]+"-"+A[t[e+10]]+A[t[e+11]]+A[t[e+12]]+A[t[e+13]]+A[t[e+14]]+A[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&P.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},j=function(t,e,n){var r=(t=t||{}).random||(t.rng||T)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return S(r)};class D{constructor({id:t=j(),title:e="Task title",description:n="Task description",dueDate:r=new Date,priority:o="normal",isCompleted:a=!1}={}){this.id=t,this.title=e,this.description=n,this.dueDate=new Date(r),this.priority=o,this.isCompleted=a}get properties(){return{id:this.id,title:this.title,description:this.description,dueDate:this.dueDate,priority:this.priority,isCompleted:this.isCompleted}}toJSON(t){return{itemClass:this.constructor.name,itemArguments:this.properties}}}k(D),Math.pow(10,8);const E=6048e5,I=Symbol.for("constructDateFrom");function L(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&I in t?t[I](e):t instanceof Date?new t.constructor(e):new Date(e)}function F(t,e){return L(e||t,t)}function O(t,e){const n=F(t,e?.in);return n.setHours(0,0,0,0),n}function W(t){return O(Date.now(),t)}function N(t,e){const n=F(t,e?.in);return n.setHours(23,59,59,999),n}function z(t){return N(Date.now(),t)}function Y(t){return L(t,Date.now())}function H(t){const e=Y(t?.in),n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),a=L(t?.in,0);return a.setFullYear(n,r,o+1),a.setHours(0,0,0,0),a}function q(t){const e=Y(t?.in),n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),a=Y(t?.in);return a.setFullYear(n,r,o+1),a.setHours(23,59,59,999),t?.in?t.in(a):a}function B(t,e,n){return function(t,e,n){const r=F(t,n?.in);return isNaN(e)?L(n?.in||t,NaN):e?(r.setDate(r.getDate()+e),r):r}(t,7*e,n)}class R{constructor({id:t="all",title:e="Inbox",description:n="All of your tasks"}={}){this.id=t,this.title=e,this.description=n}get tasks(){return D.getAll()}get totalCompleted(){let t=0;for(const e of this.tasks)t+=+e.isCompleted;return t}get totalPending(){let t=0;for(const e of this.tasks)t+=+!e.isCompleted;return t}}class Q extends R{constructor({id:t=j(),title:e="",description:n,ownedTasksIds:r}){super({id:t,title:e,description:n}),this.ownedTasksIds=new Set(r)}get tasks(){return Array.from(this.ownedTasksIds).map(t=>D.get(t))}add(t){this.ownedTasksIds.add(t)}has(t){return this.ownedTasksIds.has(t)}remove(t){this.ownedTasksIds.delete(t)}toJSON(t){const e={title:this.title,description:this.description,id:this.id,ownedTasksIds:this.tasks.map(t=>t.id)};return{itemClass:this.constructor.name,itemArguments:e}}}k(Q);class U extends R{constructor(t,e,n){super(t,e,n)}get tasks(){return D.getAll().filter(t=>function(t,e,n){const r=+F(t,n?.in),[o,a]=[+F(e.start,n?.in),+F(e.end,n?.in)].sort((t,e)=>t-e);return r>=o&&r<=a}(t.dueDate,this.timeInterval))}get timeInterval(){return null}}class $ extends U{constructor({title:t="Today",description:e="Everything due today",id:n="today"}={}){super({title:t,description:e,id:n})}get timeInterval(){return{start:W(),end:z()}}}class G extends U{constructor({title:t="Tomorrow",description:e="To do tomorrow",id:n="tomorrow"}={}){super({title:t,description:e,id:n})}get timeInterval(){return{start:H(),end:q()}}}class X extends U{constructor({title:t="This Week",description:e="What's to be done this week",id:n="thisweek"}={}){super({title:t,description:e,id:n})}get timeInterval(){const t=W();return{start:t,end:N(B(t,1))}}}const J=class{static save(t){localStorage.setItem(t.id,JSON.stringify(t))}static remove(t){localStorage.removeItem(t.id)}},V={Task:[{id:"t1",title:"Buy groceries",description:"Milk, Bread, Eggs",dueDate:new Date(Date.now()-864e5),priority:"High",isCompleted:!0},{id:"t2",title:"Read book",description:"Finish reading 'Clean Code'",dueDate:new Date(Date.now()+0),priority:"Medium",isCompleted:!1},{id:"t3",title:"Workout",description:"30 minutes of cardio",dueDate:new Date(Date.now()+864e5),priority:"Low",isCompleted:!0},{id:"t4",title:"Call mom",description:"Check in and catch up",dueDate:new Date(Date.now()+1728e5),priority:"Medium",isCompleted:!1},{id:"t5",title:"Organize closet",description:"Sort clothes and donate unused items",dueDate:new Date(Date.now()+2592e5),priority:"Low",isCompleted:!1},{id:"t6",title:"Meditation",description:"10 minutes of mindfulness meditation",dueDate:new Date(Date.now()+3456e5),priority:"High",isCompleted:!0}],Project:[{id:"p1",title:"Personal",description:"Personal tasks and reminders",ownedTasksIds:["t1","t4","t5"]},{id:"p2",title:"Learning",description:"Tasks related to learning and self-improvement",ownedTasksIds:["t2"]},{id:"p3",title:"Health",description:"Health and wellness related tasks",ownedTasksIds:["t3","t6"]}]};if(localStorage.clear(),0===localStorage.length){for(const t in V)for(const e of V[t])localStorage.setItem(e.id,JSON.stringify({itemClass:t,itemArguments:e}));localStorage.setItem("demoDataLoaded","true")}let _=[D,Q];_=_.reduce((t,e)=>({...t,[e.name]:e}),{});const K=Object.values({...localStorage});for(const t of K){const{itemClass:e,itemArguments:n}=JSON.parse(t),r=_[e];r&&r.create(n)}const Z=new class{constructor(){}createTask(t){const e=D.create(t);return J.save(e),e}getTask(t){return D.get(t)}getTasks(){return D.getAll()}updateTask(t,e){const n=D.get(t);for(const[t,r]of Object.entries(e))n[t]=r;return J.save(n),n}deleteTask(t){const e=D.get(t);D.remove(e.id),J.remove(e);const n=Q.getAll();for(const t of n)t.has(e.id)&&(t.remove(e.id),J.save(t))}createProject(t){const e=Q.create(t);return J.save(e),e}getProject(t){return Q.get(t)}getProjectFromTask(t){for(const e of Q.getAll())if(e.has(t))return e;return null}getProjects(){return Q.getAll()}updateProject(t,e){const n=Q.get(t);for(const[t,r]of Object.entries(e))n[t]=r;return J.save(n),n}addTaskToProject(t,e){const n=D.get(t),r=Q.get(e),o=Q.getAll();for(const t of o)t===r?(t.add(n.id),J.save(t)):t.has(n.id)&&(t.remove(n.id),J.save(t))}removeTaskFromProject(t,e){const n=Q.get(e);n.remove(t),J.save(n)}deleteProject(t){const e=Q.get(t);for(const t of e.tasks)D.remove(t.id),J.remove(t);Q.remove(e.id),J.remove(e)}collectionClassById={all:R,today:$,tomorrow:G,thisweek:X};getCollection(t){return new this.collectionClassById[t]}getCollections(){return[new R,new $,new G,new X]}isProject(t){return t instanceof Q}},tt=Z;var et=n(516),nt={};nt.styleTagTransform=f(),nt.setAttributes=l(),nt.insert=c().bind(null,"head"),nt.domAPI=i(),nt.insertStyleElement=m(),o()(et.A,nt),et.A&&et.A.locals&&et.A.locals;var rt=n(814),ot={};ot.styleTagTransform=f(),ot.setAttributes=l(),ot.insert=c().bind(null,"head"),ot.domAPI=i(),ot.insertStyleElement=m(),o()(rt.A,ot),rt.A&&rt.A.locals&&rt.A.locals;const at={trashBin:n.p+"e21cbc6753a20770bfaa.svg",check:n.p+"6c1a2462470fefa80cc6.svg",notCheck:n.p+"776d91a3819681e78d39.svg",plus:n.p+"ec1ed0599ffc4352cfe2.svg",arrow:n(190)};function it(t){const e=document.createElement("button");return e.classList.add("icon-button"),e.append(st(t)),e}function st(t){const e=at[t],n=document.createElement("img");return n.src=e,n}var ct=n(933),dt={};function lt(t,e,n){const r=document.createElement("button");return r.classList.add("collection-button"),t.title?r.textContent=t.title:r.textContent="New project",r.dataset.collectionId=t.id,r.dataset.collectionType=e,r.addEventListener("click",n),r}dt.styleTagTransform=f(),dt.setAttributes=l(),dt.insert=c().bind(null,"head"),dt.domAPI=i(),dt.insertStyleElement=m(),o()(ct.A,dt),ct.A&&ct.A.locals&&ct.A.locals;var ut=n(572),mt={};mt.styleTagTransform=f(),mt.setAttributes=l(),mt.insert=c().bind(null,"head"),mt.domAPI=i(),mt.insertStyleElement=m(),o()(ut.A,mt),ut.A&&ut.A.locals&&ut.A.locals;var ht=n(870),ft={};ft.styleTagTransform=f(),ft.setAttributes=l(),ft.insert=c().bind(null,"head"),ft.domAPI=i(),ft.insertStyleElement=m(),o()(ht.A,ft),ht.A&&ht.A.locals&&ht.A.locals;var pt=n(912),gt={};gt.styleTagTransform=f(),gt.setAttributes=l(),gt.insert=c().bind(null,"head"),gt.domAPI=i(),gt.insertStyleElement=m(),o()(pt.A,gt),pt.A&&pt.A.locals&&pt.A.locals;var bt=n(357),wt={};wt.styleTagTransform=f(),wt.setAttributes=l(),wt.insert=c().bind(null,"head"),wt.domAPI=i(),wt.insertStyleElement=m(),o()(bt.A,wt),bt.A&&bt.A.locals&&bt.A.locals;const yt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function vt(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const kt={date:vt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:vt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:vt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},xt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ct(t){return(e,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):e;r=t.formattingValues[o]||t.formattingValues[e]}else{const e=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;r=t.values[o]||t.values[e]}return r[t.argumentCallback?t.argumentCallback(e):e]}}const Tt={ordinalNumber:(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Ct({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ct({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ct({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ct({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ct({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Pt(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(o);if(!a)return null;const i=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?function(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}(s,t=>t.test(i)):function(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}(s,t=>t.test(i));let d;return d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d,{value:d,rest:e.slice(i.length)}}}const At={ordinalNumber:(Mt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},(t,e={})=>{const n=t.match(Mt.matchPattern);if(!n)return null;const r=n[0],o=t.match(Mt.parsePattern);if(!o)return null;let a=Mt.valueCallback?Mt.valueCallback(o[0]):o[0];return a=e.valueCallback?e.valueCallback(a):a,{value:a,rest:t.slice(r.length)}}),era:Pt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Pt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Pt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Pt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Mt;const St={code:"en-US",formatDistance:(t,e,n)=>{let r;const o=yt[t];return r="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:kt,formatRelative:(t,e,n,r)=>xt[t],localize:Tt,match:At,options:{weekStartsOn:0,firstWeekContainsDate:1}};let jt={};function Dt(){return jt}function Et(t){const e=F(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function It(t,...e){const n=L.bind(null,t||e.find(t=>"object"==typeof t));return e.map(n)}function Lt(t,e,n){const[r,o]=It(n?.in,t,e),a=O(r),i=O(o),s=+a-Et(a),c=+i-Et(i);return Math.round((s-c)/864e5)}function Ft(t,e){const n=F(t,e?.in);return Lt(n,function(t,e){const n=F(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}function Ot(t,e){const n=Dt(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=F(t,e?.in),a=o.getDay(),i=(a<r?7:0)+a-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function Wt(t,e){return Ot(t,{...e,weekStartsOn:1})}function Nt(t,e){const n=F(t,e?.in),r=n.getFullYear(),o=L(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=Wt(o),i=L(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=Wt(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function zt(t,e){const n=F(t,e?.in),r=+Wt(n)-+function(t,e){const n=Nt(t,e),r=L(e?.in||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wt(r)}(n);return Math.round(r/E)+1}function Yt(t,e){const n=F(t,e?.in),r=n.getFullYear(),o=Dt(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=L(e?.in||t,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const s=Ot(i,e),c=L(e?.in||t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Ot(c,e);return+n>=+s?r+1:+n>=+d?r:r-1}function Ht(t,e){const n=F(t,e?.in),r=+Ot(n,e)-+function(t,e){const n=Dt(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Yt(t,e),a=L(e?.in||t,0);return a.setFullYear(o,0,r),a.setHours(0,0,0,0),Ot(a,e)}(n,e);return Math.round(r/E)+1}function qt(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}const Bt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return qt("yy"===e?r%100:r,e.length)},M(t,e){const n=t.getMonth();return"M"===e?String(n+1):qt(n+1,2)},d:(t,e)=>qt(t.getDate(),e.length),a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(t,e)=>qt(t.getHours()%12||12,e.length),H:(t,e)=>qt(t.getHours(),e.length),m:(t,e)=>qt(t.getMinutes(),e.length),s:(t,e)=>qt(t.getSeconds(),e.length),S(t,e){const n=e.length,r=t.getMilliseconds();return qt(Math.trunc(r*Math.pow(10,n-3)),e.length)}},Rt={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),r=e>0?e:1-e;return n.ordinalNumber(r,{unit:"year"})}return Bt.y(t,e)},Y:function(t,e,n,r){const o=Yt(t,r),a=o>0?o:1-o;return"YY"===e?qt(a%100,2):"Yo"===e?n.ordinalNumber(a,{unit:"year"}):qt(a,e.length)},R:function(t,e){return qt(Nt(t),e.length)},u:function(t,e){return qt(t.getFullYear(),e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return qt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return qt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Bt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return qt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const o=Ht(t,r);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):qt(o,e.length)},I:function(t,e,n){const r=zt(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):qt(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):Bt.d(t,e)},D:function(t,e,n){const r=Ft(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):qt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const o=t.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return qt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const o=t.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return qt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return qt(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let o;switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let o;switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return Bt.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):Bt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):qt(r,e.length)},k:function(t,e,n){let r=t.getHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):qt(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Bt.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Bt.s(t,e)},S:function(t,e){return Bt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return Ut(r);case"XXXX":case"XX":return $t(r);default:return $t(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Ut(r);case"xxxx":case"xx":return $t(r);default:return $t(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Qt(r,":");default:return"GMT"+$t(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Qt(r,":");default:return"GMT"+$t(r,":")}},t:function(t,e,n){return qt(Math.trunc(+t/1e3),e.length)},T:function(t,e,n){return qt(+t,e.length)}};function Qt(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),a=r%60;return 0===a?n+String(o):n+String(o)+e+qt(a,2)}function Ut(t,e){return t%60==0?(t>0?"-":"+")+qt(Math.abs(t)/60,2):$t(t,e)}function $t(t,e=""){const n=t>0?"-":"+",r=Math.abs(t);return n+qt(Math.trunc(r/60),2)+e+qt(r%60,2)}const Gt=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Xt=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Jt={p:Xt,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Gt(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"})}return a.replace("{{date}}",Gt(r,e)).replace("{{time}}",Xt(o,e))}},Vt=/^D+$/,_t=/^Y+$/,Kt=["D","DD","YY","YYYY"];function Zt(t){return!(!((e=t)instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))&&"number"!=typeof t||isNaN(+F(t)));var e}const te=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ne=/^'([^]*?)'?$/,re=/''/g,oe=/[a-zA-Z]/;function ae(t){const e=t.match(ne);return e?e[1].replace(re,"'"):t}function ie(t,e){return function(t,e,n){const[r,o]=It(n?.in,t,e);return+O(r)===+O(o)}(L(e?.in||t,t),Y(e?.in||t))}function se(t,e,n){const[r,o]=It(n?.in,t,e);return 12*(r.getFullYear()-o.getFullYear())+(r.getMonth()-o.getMonth())}function ce(t,e){const n=F(t,e?.in);return Math.trunc(n.getMonth()/3)+1}function de(t,e,n){const[r,o]=It(n?.in,t,e);return 4*(r.getFullYear()-o.getFullYear())+(ce(r)-ce(o))}function le(t,e,n){const[r,o]=It(n?.in,t,e),a=Ot(r,n),i=Ot(o,n),s=+a-Et(a),c=+i-Et(i);return Math.round((s-c)/E)}function ue(t,e,n){const[r,o]=It(n?.in,t,e);return r.getFullYear()-o.getFullYear()}function me(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return 0===n?0:n}}function he(t,e,n){const[r,o]=It(n?.in,t,e),a=(+r-+o)/36e5;return me(n?.roundingMethod)(a)}function fe(t,e){return+F(t)-+F(e)}function pe(t,e,n){const r=fe(t,e)/6e4;return me(n?.roundingMethod)(r)}function ge(t,e,n){const r=fe(t,e)/1e3;return me(n?.roundingMethod)(r)}function be(t){return ie(t)?"today":function(t,e,n){let r,o=0;const[a,i]=It(n?.in,t,e);if(n?.unit)r=n?.unit,"second"===r?o=ge(a,i):"minute"===r?o=pe(a,i):"hour"===r?o=he(a,i):"day"===r?o=Lt(a,i):"week"===r?o=le(a,i):"month"===r?o=se(a,i):"quarter"===r?o=de(a,i):"year"===r&&(o=ue(a,i));else{const t=ge(a,i);Math.abs(t)<60?(o=ge(a,i),r="second"):Math.abs(t)<3600?(o=pe(a,i),r="minute"):Math.abs(t)<86400&&Math.abs(Lt(a,i))<1?(o=he(a,i),r="hour"):Math.abs(t)<604800&&(o=Lt(a,i))&&Math.abs(o)<7?r="day":Math.abs(t)<2629746?(o=le(a,i),r="week"):Math.abs(t)<7889238?(o=se(a,i),r="month"):Math.abs(t)<31556952&&de(a,i)<4?(o=de(a,i),r="quarter"):(o=ue(a,i),r="year")}return new Intl.RelativeTimeFormat(n?.locale,{numeric:"auto",...n}).format(o,r)}(t,new Date)}var we=n(409),ye={};function ve({type:t,value:e,dataset:n,onValueChange:r,isReadOnly:o=!1}){let a;"title"===t?a="input":"description"===t&&(a="textarea");const i=document.createElement(a);return i.classList.add("field-element",t),i.value=e,i.placeholder=`Add a ${t}...`,o?i.setAttribute("readonly",""):(Object.assign(i.dataset,n),i.addEventListener("change",r)),"title"===t&&(i.setAttribute("maxlength","20"),i.addEventListener("keydown",t=>{"Enter"===t.key&&t.currentTarget.blur()})),i}function ke(t,e,n){const r=document.createElement("option");return r.textContent=e,r.value=t,n&&r.setAttribute("selected",""),r}function xe({task:t,getProjectFromTask:e,getProjects:n,onCheckClick:r,onDeleteClick:o,onValueChange:a,onTaskChangeProject:i,...s}){const c=document.createElement("div");c.className="task-card",c.dataset.taskId=t.id,c.classList.add(t.isCompleted?"completed":"not-completed"),c.addEventListener("click",t=>{});const d=ve({type:"title",value:t.title,onValueChange:a,dataset:{taskId:t.id,taskProperty:"title"}}),l=function({taskId:t,date:e=new Date,onDateChange:n,...r}){const o=document.createElement("button");o.classList.add("date-picker","field-element");const a=document.createElement("span");a.textContent=be(e),a.className="date-distance";const i=document.createElement("input");return i.className="input",i.setAttribute("type","date"),i.dataset.taskId=t,i.value=function(t,e,n){const r=Dt(),o=n?.locale??r.locale??St,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=F(t,n?.in);if(!Zt(s))throw new RangeError("Invalid time value");let c=e.match(ee).map(t=>{const e=t[0];return"p"===e||"P"===e?(0,Jt[e])(t,o.formatLong):t}).join("").match(te).map(t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:ae(t)};if(Rt[e])return{isToken:!0,value:t};if(e.match(oe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}});o.localize.preprocessor&&(c=o.localize.preprocessor(s,c));const d={firstWeekContainsDate:a,weekStartsOn:i,locale:o};return c.map(r=>{if(!r.isToken)return r.value;const a=r.value;return(!n?.useAdditionalWeekYearTokens&&function(t){return _t.test(t)}(a)||!n?.useAdditionalDayOfYearTokens&&function(t){return Vt.test(t)}(a))&&function(t,e,n){const r=function(t,e,n){const r="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,n);if(console.warn(r),Kt.includes(t))throw new RangeError(r)}(a,e,String(t)),(0,Rt[a[0]])(s,a,o.localize,d)}).join("")}(e,"yyyy-MM-dd"),i.getLabelText=be,i.label=a,i.addEventListener("change",t=>{const e=new Date(t.target.value.replace(/-/g,"/"));a.textContent=be(e),"function"==typeof n&&n(t,e)}),o.addEventListener("click",t=>{i.showPicker()}),o.append(i),o.append(a),o}({taskId:t.id,date:t.dueDate,...s}),u=it("arrow");u.classList.add("expand-button"),u.addEventListener("click",t=>{c.classList.toggle("expanded")});const m=n().map(t=>({value:t.id,text:t.title})),h=e(t.id),f=function(t,e,n){const r=document.createElement("select");r.classList.add("field-element");const{value:o,text:a}={value:"",text:"No project"};r.append(ke(o,a,o===n));for(const{value:t,text:o}of e)r.append(ke(t,o,t===n));return r}(0,m,h?h.id:"");f.classList.add("project-picker"),f.dataset.taskId=t.id,f.addEventListener("change",i);const p=ve({type:"description",value:t.description,onValueChange:a,dataset:{taskId:t.id,taskProperty:"description"}}),[g,b]=t.isCompleted?["notCheck","check"]:["check","notCheck"],w=function(t,e){const n=it(t);return n.append(st(e)),n.classList.add("two-sided","side-a"),n.addEventListener("click",t=>{n.classList.toggle("side-a"),n.classList.toggle("side-b")}),n}(g,b);w.classList.add("check-button"),w.dataset.taskId=t.id,w.addEventListener("click",t=>{c.classList.toggle("completed"),c.classList.toggle("not-completed"),r(t)});const y=it("trashBin");y.classList.add("delete-button"),y.dataset.taskId=t.id,y.addEventListener("click",t=>{c.remove(),o(t)}),c.append(w),c.append(d),c.append(l),c.append(u),c.append(f),c.append(p),c.append(y);for(const t of c.children)t.addEventListener("click",t=>{t.stopPropagation()});return c}let Ce;ye.styleTagTransform=f(),ye.setAttributes=l(),ye.insert=c().bind(null,"head"),ye.domAPI=i(),ye.insertStyleElement=m(),o()(we.A,ye),we.A&&we.A.locals&&we.A.locals;const Te=function({getDefaultCollection:t,getCollectionFromEvent:e,createProjectFromEvent:n,updateProjectFromEvent:r,deleteProjectFromEvent:o,...a}){const i=document.createElement("div");i.classList.add("app-body");let s=document.createElement("div"),c=document.createElement("div");return p(),i.appendChild(c),i.appendChild(s),i;function d(t){h(e(t))}function l(t){h(n(t)),f(),s.querySelector(".title").focus()}function u(t){r(t),f()}function m(t){o(t),p()}function h(t){const e=function({collection:t,isProject:e,onAddClick:n,onProjectDelete:r,onProjectChange:o,...a}){const i=document.createElement("div");let s,c;i.className="collection-view",e(t)?(c=it("trashBin"),c.dataset.collectionId=t.id,c.classList.add("delete-button"),c.addEventListener("click",r),i.append(c),s={onValueChange:o,dataset:{collectionId:t.id,collectionProperty:"title"}}):s={isReadOnly:!0};const d=ve({type:"title",value:t.title,...s}),{taskList:l,addTaskOnEvent:u}=function({tasks:t,createTaskFromEvent:e,...n}){const r=document.createElement("div");r.classList.add("task-list"),t=(t=t.sort((t,e)=>t.dueDate-e.dueDate)).sort((t,e)=>t.isCompleted-e.isCompleted);for(const e of t)r.append(xe({task:e,...n}));return{taskList:r,addTaskOnEvent:function(t){!function(t,e,n){const r=xe({task:t,...n});e.insertBefore(r,e.firstChild),r.querySelector(".title").focus()}(e(t),r,n)}}}({tasks:t.tasks,...a}),m=it("plus");return m.classList.add("add-button"),m.addEventListener("click",u),i.append(d),c&&i.append(c),i.append(l),i.append(m),i}({collection:t,onProjectDelete:m,onProjectChange:u,...a});s.replaceWith(e),s=e}function f(){const t=function({getCollections:t,getProjects:e,onCollectionClick:n,onProjectAdd:r,...o}){const a=document.createElement("aside");a.classList.add("sidebar");const i=document.createElement("div");i.classList.add("collections-container"),i.innerHTML="<h2>Collections</h2>";for(const e of t())i.append(lt(e,"collection",n));const s=document.createElement("div");s.classList.add("projects-container");const c=document.createElement("div");c.classList.add("title-container"),c.innerHTML="<span>Projects</span>";const d=it("plus");d.addEventListener("click",r),c.append(d),s.append(c);for(const t of e())s.append(lt(t,"project",n));return a.appendChild(i),a.appendChild(s),a}({onCollectionClick:d,onProjectAdd:l,...a});c.replaceWith(t),c=t}function p(){h(t()),f()}}({getDefaultCollection:function(){return tt.getCollection("all")},getCollectionFromEvent:function(t){const{collectionType:e,collectionId:n}=t.currentTarget.dataset,r=tt["collection"===e?"getCollection":"getProject"](n);return Ce=r,r},isProject:function(t){return tt.isProject(t)},createProjectFromEvent:function(t){return tt.createProject({})},updateProjectFromEvent:function(t){const e=t.currentTarget,{collectionId:n,collectionProperty:r}=e.dataset;tt.updateProject(n,{[r]:e.value})},deleteProjectFromEvent:function(t){tt.deleteProject(t.currentTarget.dataset.collectionId)},getProjectFromTask:function(t){return tt.getProjectFromTask(t)},getCollections:function(){return tt.getCollections()},getProjects:function(){return tt.getProjects()},createTaskFromEvent:function(t){const e=tt.createTask({title:"",description:""});return tt.isProject(Ce)&&tt.addTaskToProject(e.id,Ce.id),e},onCheckClick:function(t){const e=t.currentTarget.dataset.taskId,n=!tt.getTask(e).isCompleted;tt.updateTask(e,{isCompleted:n})},onDeleteClick:function(t){tt.deleteTask(t.currentTarget.dataset.taskId)},onValueChange:function(t){const e=t.currentTarget,{taskId:n,taskProperty:r}=e.dataset;tt.updateTask(n,{[r]:e.value})},onDateChange:function(t,e){tt.updateTask(t.target.dataset.taskId,{dueDate:e})},onTaskChangeProject:function(t){const e=t.currentTarget,{taskId:n}=e.dataset,r=tt.getProjectFromTask(n);r&&tt.removeTaskFromProject(n,r.id);const o=t.currentTarget.value;o&&tt.addTaskToProject(n,o)}});document.body.append(Te),window.app=tt})();